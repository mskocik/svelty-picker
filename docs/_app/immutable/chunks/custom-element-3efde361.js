import{c as b,S as l}from"./SveltyPicker-a056aed6.js";import"./index-bfee2186.js";const h=["value","name","placeholder","start-date","end-date","disabled","input-classes","mode","format","format-type","week-start","today-btn","clear-btn","autoclose","required"];function a(n,s){switch(n){case"value":return s||"";case"required":case"disabled":case"today-btn":case"clear-btn":case"autoclose":return s!==null&&s!=="false";case"weekStart":return parseInt(s)}return s}function c(n){return n.includes("-")?n.split("-").reduce((s,e,i)=>(i&&(e=e[0].toUpperCase()+e.substr(1)),s+e),""):n}class p extends HTMLInputElement{constructor(){super(),this.picker=null;const s=["name","placeholder","mode","format"].reduce((t,r)=>(t[r]={get(){return a(r,this.getAttribute(r))},set(o){this.setAttribute(r,o)}},t),{}),e={form:{get(){return this.closest("form")}},weekStart:{get(){return this.getAttribute("week-start")},set(t){this.setAttribute("week-start",t)}},startDate:{get(){return this.getAttribute("start-date")},set(t){t&&this.setAttribute("start-date",t),!t&&this.removeAttribute("start-date")}},endDate:{get(){return this.getAttribute("end-date")},set(t){t&&this.setAttribute("end-date",t),!t&&this.removeAttribute("end-date")}},inputClasses:{get(){return this.getAttribute("input-classes")},set(t){t&&this.setAttribute("input-classes",t),!t&&this.removeAttribute("input-classes")}},formatType:{get(){return this.getAttribute("format-type")},set(t){t&&["standard","php"].includes(t)&&this.setAttribute("format-type",t),!t&&this.removeAttribute("format-type")}}},i=["required","disabled","today-btn","clear-btn","autoclose"].reduce((t,r)=>{const o=c(r);return t[o]={get(){const u=this.hasAttribute(r),d=u?this.getAttribute(r)!=="false":!0;return u?d:b[o]},set(u){u?this.setAttribute(r,u=""):this.hasAttribute(r)?this.removeAttribute(r):this.picker.$set({[o]:u})}},t},{});Object.defineProperties(this,Object.assign({},s,e,i))}focus(){if(this.disabled)return;const s=this.querySelector("input");s&&s.focus()}static get observedAttributes(){return h}attributeChangedCallback(s,e,i){this.picker&&e!==i&&(this.picker.$set({[c(s)]:a(s,i)}),s==="value"&&(this.value=i))}connectedCallback(){if(this.picker)return;let s={inputElement:this,value:this.value};for(const e of h)this.hasAttribute(e)&&(s[c(e)]=a(e,this.getAttribute(e)));this.picker=new l({target:this.parentElement,props:s}),this.picker.$on("input",e=>{this.setAttribute("value",e.target.value),this.dispatchEvent(new Event("input"))}),this.picker.$on("blur",e=>{this.dispatchEvent(new Event("blur"))}),setTimeout(()=>{if(this.hasAttribute("from")){const e=document.getElementById(this.getAttribute("from"));e.oninput=i=>{this.picker.$set({startDate:e.value})}}if(this.hasAttribute("to")){const e=document.getElementById(this.getAttribute("to"));e.oninput=i=>{this.picker.$set({endDate:e.value})}}})}disconnectedCallback(){this.picker&&this.picker.$destroy()}}function g(n){window.customElements.define(n,p,{extends:"input"})}export{g as registerElement};
